#include <iostream>
#include <string>
#define MAX 1000

using namespace std;


//????????
struct Person{
    string name;//????
    int sex;//???1-?? 2-?
    int age;//????
    string phone;//?绰
    string addr;//??
};
   
//???????
struct Addressbooks
{
    /* data */
    struct Person personArray[MAX];
    int size;
};


//1.?????????
void addPerson(Addressbooks*abs){

    //?ж???????????????????????
    if(abs->size==MAX){
        cout<<"???????,???????!"<<endl;
        return;
    }else{
        //????????????

        //????
        string name;
        cout<<"????????????"<<endl;
        cin>>name;
        abs->personArray[abs->size].name=name;
        //???
        cout<<"?????????"<<endl;
        cout<<"1-??   2-?"<<endl;
        int sex=0;
        while(1){
            //??????????1or2??????????????????????????
            cin>>sex;
            if(sex==1||sex==2){
                abs->personArray[abs->size].sex=sex;
                break;
            }
            cout<<"??????????????????"<<endl;
        }
        //????
        cout<<"??????????:"<<endl;
        int age=0;
        cin>>age;
        abs->personArray[abs->size].age=age;

        //?绰
        cout<<"??????绰??"<<endl;
        string phone;
        cin>>phone;
        abs->personArray[abs->size].phone=phone;

        //??
        cout<<"????????????"<<endl;
        string address;
        cin>>address;
        abs->personArray[abs->size].addr=address;

        //???????????
        abs->size++;

        cout<<"??????"<<endl;

        system("pause"); //???????????
        system("cls"); //????
    }

}

//2.????????????
void showPerson(Addressbooks *abs){
    //?ж??????????????0
    //?0???????????0????????
    int i;
    if(abs->size==0){
        cout<<"?????????"<<endl;
    }else{
        for(i=0;i<abs->size;++i){
            cout<<"????:"<<abs->personArray[i].name<<"\t";
            cout<<"???:"<<(abs->personArray[i].sex==1?"??":"?")<<"\t";
            cout<<"????:"<<abs->personArray[i].age<<"\t";
            cout<<"?绰:"<<abs->personArray[i].phone<<"\t";
            cout<<"??:"<<abs->personArray[i].addr<<endl;
        }
    }
    system("pause");
    system("cls");//??????

}


//3.????????

//???????????????????????????????????????????λ????????????-1
int isExist(Addressbooks*abs,string name){
    int i;
    for(i=0;i<abs->size;++i){
        if(abs->personArray[i].name==name){
            return i;//??????????????е??±???
        }
    }
    return -1; //????????δ?????????-1

}

void deletePerson(Addressbooks*abs){
    cout<<"????????????????????"<<endl;

    string name;
    cin>>name;
    //ret ==-1 δ?鵽  ret !=-1  ?鵽
    int ret=isExist(abs,name);

    if(ret!=-1){
        //?鵽??????????
        int i;
        for(i=ret;i<abs->size;++i){
            //???????
            abs->personArray[i]=abs->personArray[i+1];
        }
        abs->size--; //????????е??????
        cout<<"??????"<<endl;
    }else{
        cout<<"???????"<<endl;
    }

    system("pause");
    system("cls");//??????
}


//4.?????????
void findPerson(Addressbooks*abs){

    cout<<"????????????????????"<<endl;
    string name;
    cin >> name;
     
     //?ж????????????
     int ret =isExist(abs,name);   //???????????????
     if(ret!=-1){  //????????  //??????
        cout<<"????:"<<abs->personArray[ret].name<<"\t";
        cout<<"???:"<<abs->personArray[ret].sex<<"\t";
        cout<<"????:"<<abs->personArray[ret].age<<"\t";
        cout<<"?绰:"<<abs->personArray[ret].phone<<"\t";
        cout<<"??:"<<abs->personArray[ret].addr<<endl;
     }else{   //δ???????
        cout<<"???????"<<endl;
     }

    system("pause");
    system("cls");//??????
}



//5.????????
void modifyPerson(Addressbooks* abs){

    cout<<"???????????????????:"<<endl;
    string name;
    cin>>name;
    int ret=isExist(abs,name); //ret ????????????±?
    if(ret!=-1){  //????????
        //???????
        string name;
        cout<<"????????????"<<endl;
        cin>>name;
        abs->personArray[ret].name=name;

        //??????
        cout<<"?????????"<<endl;
        cout<<"1-??  2-?"<<endl;
        int sex=0;
        while(1){
            cin>>sex;
            if(sex==1||sex==2){
                abs->personArray[ret].sex=sex;
                //?????????????
                break;
            }
            cout<<"????????"<<endl;
        }
        //???????
        int age;
        cout<<"??????????"<<endl;
        cin>>age;
        abs->personArray[ret].age=age;

        //???绰
        string phone;
        cout<<"??????绰??"<<endl;
        cin>>phone;
        abs->personArray[ret].phone=phone;


        //?????
        string addr;
        cout<<"??????????"<<endl;
        cin>>addr;
        abs->personArray[ret].addr=addr;

        cout<<"?????"<<endl;

    }else{  //??????????
        cout<<"???????"<<endl;
    }

    system("pause");
    system("cls");//??????


}


//6.????????
void cleanPerson(Addressbooks* abs){

    abs->size=0;
    cout<<"????????"<<endl;
    system("pause");
    system("cls");
}












//???????????????
void showMenu(){

    cout<<"     ******???******     "<<endl;
    cout<<"**************************"<<endl;
    cout<<"*****  1.?????????  *****"<<endl;
    cout<<"*****  2.????????  *****"<<endl;
    cout<<"*****  3.????????  *****"<<endl;
    cout<<"*****  4.?????????  *****"<<endl;
    cout<<"*****  5.????????  *****"<<endl;
    cout<<"*****  6.????????  *****"<<endl;
    cout<<"*****  0.??????  *****"<<endl;
    cout<<"**************************"<<endl;
}




//?????????
int main(){


    //??????????????
    Addressbooks abs;
    //?????????е?????????
    abs.size=0;

    int select=0;//?????????????????


    while(1){

        //????????
        showMenu();

        cin>>select;
        switch(select){

            case 1: //?????????

                addPerson(&abs); //????????????????????

                break;
            case 2:  //????????
                showPerson(&abs);
                break;
            case 3: //????????
               /*{ cout<<"????????????????????"<<endl;
                string name;
                cin>>name;
                if(isExist(&abs,name)==-1){
                    cout<<"???????"<<endl;
                }else{
                    cout<<"???????"<<endl;
                }
               }*/
                deletePerson(&abs);
                break;
            case 4: //?????????
                findPerson(&abs);
                break;  
            case 5:  //????????
                modifyPerson(&abs);
                break;
            case 6: //????????
                cleanPerson(&abs);
                break;
            case 0: //???
                cout<<"?????????!"<<endl;
                system("pause");
                return 0;
                break;  


            default:
                break;
                
        }

    }
    system("pause");
    return 0;
}
